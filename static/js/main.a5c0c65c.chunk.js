(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={galleryItem:"ImageGalleryItem_galleryItem__1MExI",galleryItemImg:"ImageGalleryItem_galleryItemImg__31W7F"}},11:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1UJWE",Modal:"Modal_Modal__209X5"}},14:function(e,t,a){e.exports={gallery:"ImageGalleryItem_gallery__1kPjP"}},15:function(e,t,a){e.exports={Button:"Button_Button__2q_le"}},31:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),c=a.n(o),s=a(9),l=a.n(s),i=a(13),u=a(2),g=a(3),m=a(5),h=a(4),d=(a(22),a(6)),p=a.n(d),j=a(1),b=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.onChangeValue=function(t){console.log(t.target.value),e.setState({value:t.target.value})},e.getValue=function(t){t.preventDefault(),e.props.getQuery(e.state.value)},e}return Object(g.a)(a,[{key:"render",value:function(){return Object(j.jsx)("header",{className:p.a.Searchbar,children:Object(j.jsxs)("form",{className:p.a.SearchForm,onSubmit:this.getValue,children:[Object(j.jsx)("button",{type:"submit",className:p.a.SearchFormButton,children:"search"}),Object(j.jsx)("input",{onChange:this.onChangeValue,value:this.state.value,className:p.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),a}(n.Component),f=a(14),y=a.n(f),v=a(10),O=a.n(v);function S(e){return e.images.map((function(e){var t=e.id,a=e.webformatURL,n=e.tags,r=e.largeImageURL;return Object(j.jsx)("li",{id:t,className:O.a.galleryItem,largimage:r,children:Object(j.jsx)("img",{className:O.a.galleryItemImg,src:a,alt:n})},t)}))}var _=a(11),x=a.n(_);function I(e){var t=e.largeImg;return Object(j.jsx)("div",{className:x.a.Overlay,"data-overlay":"open",children:Object(j.jsx)("div",{className:x.a.Modal,children:Object(j.jsx)("img",{src:t,alt:""})})})}var M=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={modalOpen:!1,largeImg:""},e.openModal=function(t){if(t.target!==t.currentTarget){if(!e.state.modalOpen){var a=t.target.closest("li").getAttribute("largimage");e.setState({largeImg:a}),e.setState({modalOpen:!0})}"open"===t.target.closest("div").dataset.overlay&&e.setState({modalOpen:!1})}},e.closeModalByEscape=function(t){"Escape"===t.code&&e.setState({modalOpen:!1})},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.closeModalByEscape)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.closeModalByEscape)}},{key:"render",value:function(){return Object(j.jsxs)("ul",{className:y.a.gallery,onClick:this.openModal,onKeyDown:this.closeModal,children:[this.state.modalOpen&&Object(j.jsx)(I,{largeImg:this.state.largeImg}),Object(j.jsx)(S,{images:this.props.images})]})}}]),a}(n.Component),k=a(15),w=a.n(k);function F(e){var t=e.getLoadMore;return Object(j.jsx)("button",{className:w.a.Button,onClick:t,children:"Load more"})}var B=a(16),E=a.n(B),L={aligneItems:"center",top:0,left:"30%"},N=function(){return Object(j.jsx)("div",{css:L,children:Object(j.jsx)(E.a,{margin:4,size:13,color:"skyblue"})})},C=(a(31),"24469926-df466a8874aa59a8d5a89b872"),P=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={query:"",images:[],perPage:12,loadding:!1},e.clearState=function(){e.setState({perPage:12})},e.getFetch=Object(i.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://pixabay.com/api/?q=".concat(e.state.query,"&page=1&key=").concat(C,"&image_type=photo&orientation=horizontal&per_page=").concat(e.state.perPage));case 2:return a=t.sent,n=a.json(),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)}))),e.getQuery=function(t){e.setState({query:t})},e.getLoadMore=function(){e.setState((function(e){e.perPage+=6}))},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loadding:!0}),this.getFetch().then((function(t){e.state.perPage>12&&e.setState({perPage:12}),e.setState({images:t.hits}),e.setState({loadding:!1})}))}},{key:"componentDidUpdate",value:function(){var e=this;this.getFetch().then((function(t){return e.setState({images:t.hits})}))}},{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b,{getQuery:this.getQuery}),Object(j.jsx)(M,{images:this.state.images}),this.state.loadding&&Object(j.jsx)(N,{}),Object(j.jsx)(F,{getLoadMore:this.getLoadMore})]})}}]),a}(n.Component);c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(P,{})}),document.getElementById("root"))},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__2DS8R",SearchForm:"Searchbar_SearchForm__3nO16",SearchFormButton:"Searchbar_SearchFormButton__RcfEA",SearchFormInput:"Searchbar_SearchFormInput__6gzEM",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__1M7SK"}}},[[33,1,2]]]);
//# sourceMappingURL=main.a5c0c65c.chunk.js.map